<!-- Header -->
<div class="header">
  <h1>Guitare DAW</h1>
  <div class="header-controls">
    <app-metronome></app-metronome>
    <button nz-button nzType="default" (click)="showTuner()">
      <i nz-icon nzType="sound" nzTheme="outline"></i>
      Accordeur
    </button>
  </div>
  <div class="header-right">
    <button nz-button nzType="primary" (click)="startAudio()">
      <i nz-icon [nzType]="isAudioStarted ? 'pause-circle' : 'play-circle'" nzTheme="outline"></i>
      {{ isAudioStarted ? 'Stop' : 'Start' }}
    </button>
    <button nz-button nzType="default" (click)="startRecording()">
      <i nz-icon [nzType]="isRecording ? 'stop' : 'audio'" nzTheme="outline"></i>
      {{ isRecording ? 'Stop' : 'Record' }}
    </button>
    <button nz-button nzType="default" (click)="refreshDevices()">
      <i nz-icon nzType="reload" nzTheme="outline"></i>
    </button>
  </div>
</div>

<router-outlet />

<!-- Main Content -->
<app-daw></app-daw>

<!-- Tuner Modal -->
<nz-modal
  [(nzVisible)]="isTunerVisible"
  (nzOnCancel)="hideTuner()"
  [nzTitle]="'Accordeur'"
  [nzFooter]="null"
  [nzWidth]="600"
>
  <ng-container *nzModalContent>
    <app-tuner></app-tuner>
  </ng-container>
</nz-modal>

<style>
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background-color: #1f1f1f;
    border-bottom: 1px solid #333;
  }

  .header h1 {
    margin: 0;
    color: #fff;
    font-size: 1.5rem;
  }

  .header-controls {
    display: flex;
    gap: 1rem;
    align-items: center;
  }

  .header-right {
    display: flex;
    gap: 0.5rem;
  }
</style> 